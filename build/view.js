(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,n=window.ReactDOM;var r=e.n(n);function a({tripName:e,tripTime:n}){const[r,a]=(0,t.useState)(""),[u,s]=(0,t.useState)([]),[i,m]=(0,t.useState)(c(n)),[d,f]=(0,t.useState)(o(n));function h(){s([...u,{text:r,done:!1}]),a("")}function p(e){const t=Array.from(u);t[e.target.id.match(/\d/)[0]].done=e.target.checked,s(t)}(0,t.useEffect)((()=>{const e=setInterval((()=>{m(c(n)),f(o(n))}),500);return()=>{clearInterval(e)}}),[n]);const E=u.map(((e,n)=>{let r="taskItem";e?.done&&(r+=" done");const a=`taskCheckbox_${n}`;return(0,t.createElement)("li",{className:r,key:n},(0,t.createElement)("input",{type:"checkbox",id:a,onChange:p,checked:e.done}),(0,t.createElement)("label",{htmlFor:a},e.text))}));return(0,t.createElement)("div",{class:"CountdownPage"},(0,t.createElement)("h2",null,e),(0,t.createElement)("div",{class:"timeInfo"+l(d)},(0,t.createElement)("div",null,"Out the door at ",function(e){const t=new Date,[n,r]=e.split(":");return t.setHours(n),t.setMinutes(r),t.toLocaleString("en-us",{hour:"numeric",minute:"numeric",hour12:!0})}(n)),(0,t.createElement)("div",null,i," LEFT!")),(0,t.createElement)("div",{class:"otherStuff"},(0,t.createElement)("div",null,(0,t.createElement)("h2",null,"Things Left To Do")),(0,t.createElement)("div",null,(0,t.createElement)("ul",null,E)),(0,t.createElement)("div",null,(0,t.createElement)("input",{class:"newTask",placeholder:"Add tasks here",value:r,onChange:e=>a(e.target.value),onKeyDown:function(e){e.key&&"Enter"===e.key&&h()}}),(0,t.createElement)("button",{onClick:h},"+")),(0,t.createElement)("div",{className:function(){const e=["encouragementArea"];return d<60&&e.push("encouragementAreaRed"),d<300&&e.push("encouragementAreaYellow"),d>=300&&e.push("encouragementAreaGreen"),e.join(" ")}()},function(e){return e<=0?"Now you're late!":e<300?"Time to go!":e<600?"Almost time to leave!":"Let's go!"}(d))))}function o(e){const t=new Date,n=new Date,[r,a]=e.split(":");t.setHours(r),t.setMinutes(a),t.setSeconds(0);const o=Math.floor((t-n)/1e3);return Math.max(0,o)}function l(e){return e<60?" timeInfoRed":e<300?" timeInfoYellow":" timeInfoGreen"}function c(e){const t=new Date,n=new Date,[r,a]=e.split(":");n.setHours(r),n.setMinutes(a),n.setSeconds(0);let o=(n-t)/1e3;return o=Math.max(0,o),o>3600?`${Math.floor(o/3600)} Hours and ${Math.floor(o%3600/60)} minutes`:o>60?`${Math.floor(o/60)}:${Math.floor(o%60).toString().padStart(2,"0")}`:`${o} SECONDS`}document.querySelectorAll(".wp-block-trip-planner-trip-timer-plugin").forEach((e=>{const n=e.getAttribute("data-trip-name"),o=e.getAttribute("data-trip-time");r().render((0,t.createElement)(a,{tripName:n,tripTime:o}),e)}))})();